<div
  *ngIf="gridConfig"
  class="grid-header position-sticky-top"
  [ngStyle]="{
    'top.px': 0,
    'height.px': Constants.HEADER_HEIGHT,
    'line-height.px': Constants.HEADER_HEIGHT
  }"
>
  <div class="grid-row col-pinned-left">
    <nv-left-action-empty
      [rowSelectionType]="gridConfig.rowSelectionType"
      [selectedRowsLength]="selectedRowsLength"
      [rowButtonsPosition]="gridConfig.rowButtonsPosition"
      [isGridExpandable]="configurationService.isGridExpandable(gridConfig)"
      [showRowIndex]="gridConfig.showRowIndex"
    >
    </nv-left-action-empty>
  </div>
  <!-- Columns Header -->
  <div
    cdkDropList
    cdkDropListOrientation="horizontal"
    (cdkDropListDropped)="dragEndEvent($event)"
    class="flex-container"
  >
    <ng-container *ngFor="let column of columns; let colIndex=index">
      <div
        cdkDrag
        [attr.data-header-cell-key]="column.key"
        [cdkDragDisabled]="gridConfig.disableDragAndDrop"
        nvResizeableColumn
        class="grid-header-cell"
        [ngClass]="{
          'col-pinned-left': colIndex < gridConfig.pin.pinTill,
          'last-pinned-left': gridConfig.pin.pinTill === colIndex + 1
        }"
        [ngStyle]="{
             'min-width.px': column.width,
             'max-width.px': column.width,
             'left.px': configurationService.getCellLeftPosition(gridConfig, colIndex)
           }"
        [column]="column"
        [title]="column.tooltip ? (column.tooltip | translate) : !gridConfig.tooltipDisabled? (column.title | translate) : ''"
        (contextmenu)="handleContextMenu(colIndex, $event)"
      >
        <div
          class="grid-header-cell-title"
          (click)="sortColumn(column)"
        >
          {{column.title | translate}}
        </div>
        <div class="right-utilities">
          <div class="column-icons">
            <div class="drag-handle">
              <i
                *ngIf="!gridConfig.disableDragAndDrop"
                cdkDragHandle
                nz-icon
                nzType="swap"
              >
              </i>
            </div>
            <div class="sort-icon">
              <i
                *ngIf="gridConfig.sortBy === column.key"
                nz-icon
                [nzType]="gridConfig.isSortAscending ? 'caret-down' : 'caret-up'"
              >
              </i>
            </div>
          </div>
          <div class="resize-handle">
            <span></span>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
  <div class="grid-row col-pinned-right">
    <nv-right-action-empty
      [rowButtonsPosition]="gridConfig.rowButtonsPosition"
      [buttons]="gridConfig.buttons"
    >
    </nv-right-action-empty>
  </div>
</div>
